ace.define("ace/snippets",["require","exports","module","ace/lib/oop","ace/lib/event_emitter","ace/lib/lang","ace/range","ace/anchor","ace/keyboard/hash_handler","ace/tokenizer","ace/lib/dom","ace/editor"],function(f,t,h){var o=f("./lib/oop"),p=f("./lib/event_emitter").EventEmitter,s=f("./lib/lang"),i=f("./range").Range,u=f("./anchor").Anchor,a=f("./keyboard/hash_handler").HashHandler,m=f("./tokenizer").Tokenizer,r=i.comparePoints,d=function(){this.snippetMap={},this.snippetNameMap={}};(function(){o.implement(this,p),this.getTokenizer=function(){function g(k,q,j){return k=k.substr(1),/^\d+$/.test(k)&&!j.inFormatString?[{tabstopId:parseInt(k,10)}]:[{text:k}]}function b(j){return"(?:[^\\\\"+j+"]|\\\\.)"}return d.$tokenizer=new m({start:[{regex:/:/,onMatch:function(k,q,j){return j.length&&j[0].expectIf?(j[0].expectIf=!1,j[0].elseBranch=j[0],[j[0]]):":"}},{regex:/\\./,onMatch:function(k,w,j){var q=k[1];return q=="}"&&j.length?k=q:"`$\\".indexOf(q)!=-1?k=q:j.inFormatString&&(q=="n"?k="\n":q=="t"?k="\n":"ulULE".indexOf(q)!=-1&&(k={changeCase:q,local:q>"a"})),[k]}},{regex:/}/,onMatch:function(k,q,j){return[j.length?j.shift():k]}},{regex:/\$(?:\d+|\w+)/,onMatch:g},{regex:/\$\{[\dA-Z_a-z]+/,onMatch:function(q,j,k){var w=g(q.substr(1),j,k);return k.unshift(w[0]),w},next:"snippetVar"},{regex:/\n/,token:"newline",merge:!1}],snippetVar:[{regex:"\\|"+b("\\|")+"*\\|",onMatch:function(k,q,j){j[0].choices=k.slice(1,-1).split(",")},next:"start"},{regex:"/("+b("/")+"+)/(?:("+b("/")+"*)/)(\\w*):?",onMatch:function(k,w,j){var q=j[0];return q.fmtString=k,k=this.splitRegex.exec(k),q.guard=k[1],q.fmt=k[2],q.flag=k[3],""},next:"start"},{regex:"`"+b("`")+"*`",onMatch:function(k,q,j){return j[0].code=k.splice(1,-1),""},next:"start"},{regex:"\\?",onMatch:function(k,q,j){j[0]&&(j[0].expectIf=!0)},next:"start"},{regex:"([^:}\\\\]|\\\\.)*:?",token:"",next:"start"}],formatString:[{regex:"/("+b("/")+"+)/",token:"regex"},{regex:"",onMatch:function(k,q,j){j.inFormatString=!0},next:"start"}]}),d.prototype.getTokenizer=function(){return d.$tokenizer},d.$tokenizer},this.tokenizeTmSnippet=function(g,b){return this.getTokenizer().getLineTokens(g,b).tokens.map(function(j){return j.value||j})},this.$getDefaultValue=function(j,q){if(/^[A-Z]\d+$/.test(q)){var g=q.substr(1);return(this.variables[q[0]+"__"]||{})[g]}if(/^\d+$/.test(q)){return(this.variables.__||{})[q]}q=q.replace(/^TM_/,"");if(!j){return}var k=j.session;switch(q){case"CURRENT_WORD":var b=k.getWordRange();case"SELECTION":case"SELECTED_TEXT":return k.getTextRange(b);case"CURRENT_LINE":return k.getLine(j.getCursorPosition().row);case"PREV_LINE":return k.getLine(j.getCursorPosition().row-1);case"LINE_INDEX":return j.getCursorPosition().column;case"LINE_NUMBER":return j.getCursorPosition().row+1;case"SOFT_TABS":return k.getUseSoftTabs()?"YES":"NO";case"TAB_SIZE":return k.getTabSize();case"FILENAME":case"FILEPATH":return"";case"FULLNAME":return"Ace"}},this.variables={},this.getVariableValue=function(g,b){return this.variables.hasOwnProperty(b)?this.variables[b](g,b)||"":this.$getDefaultValue(g,b)||""},this.tmStrFormat=function(j,x,w){var k=x.flag||"",y=x.guard;y=new RegExp(y,k.replace(/[^gi]/,""));var q=this.tokenizeTmSnippet(x.fmt,"formatString"),b=this,g=j.replace(y,function(){b.variables.__=arguments;var A=b.resolveVariables(q,w),B="E";for(var z=0;z<A.length;z++){var C=A[z];if(typeof C=="object"){A[z]="";if(C.changeCase&&C.local){var D=A[z+1];D&&typeof D=="string"&&(C.changeCase=="u"?A[z]=D[0].toUpperCase():A[z]=D[0].toLowerCase(),A[z+1]=D.substr(1))}else{C.changeCase&&(B=C.changeCase)}}else{B=="U"?A[z]=C.toUpperCase():B=="L"&&(A[z]=C.toLowerCase())}}return A.join("")});return this.variables.__=null,g},this.resolveVariables=function(k,x){function j(z){var y=k.indexOf(z,q+1);y!=-1&&(q=y)}var b=[];for(var q=0;q<k.length;q++){var g=k[q];if(typeof g=="string"){b.push(g)}else{if(typeof g!="object"){continue}if(g.skip){j(g)}else{if(g.processed<q){continue}if(g.text){var w=this.getVariableValue(x,g.text);w&&g.fmtString&&(w=this.tmStrFormat(w,g)),g.processed=q,g.expectIf==null?w&&(b.push(w),j(g)):w?g.skip=g.elseBranch:j(g)}else{g.tabstopId!=null?b.push(g):g.changeCase!=null&&b.push(g)}}}}return b},this.insertSnippetForSelection=function(aj,B){function b(K){var M=[];for(var J=0;J<K.length;J++){var L=K[J];if(typeof L=="object"){if(af[L.tabstopId]){continue}var I=K.lastIndexOf(L,J-1);L=M[I]||{tabstopId:L.tabstopId}}M[J]=L}return M}var w=aj.getCursorPosition(),z=aj.session.getLine(w.row),j=aj.session.getTabString(),A=z.match(/^\s*/)[0];w.column<A.length&&(A=A.slice(0,w.column));var x=this.tokenizeTmSnippet(B);x=this.resolveVariables(x,aj),x=x.map(function(I){return I=="\n"?I+A:typeof I=="string"?I.replace(/\t/g,j):I});var D=[];x.forEach(function(N,K){if(typeof N!="object"){return}var L=N.tabstopId,I=D[L];I||(I=D[L]=[],I.index=L,I.value="");if(I.indexOf(N)!==-1){return}I.push(N);var M=x.indexOf(N,K+1);if(M===-1){return}var J=x.slice(K+1,M),O=J.some(function(P){return typeof P=="object"});O&&!I.value?I.value=J:J.length&&(!I.value||typeof I.value!="string")&&(I.value=J.join(""))}),D.forEach(function(I){I.length=0});var af={};for(var k=0;k<x.length;k++){var ah=x[k];if(typeof ah!="object"){continue}var y=ah.tabstopId,ai=x.indexOf(ah,k+1);if(af[y]){af[y]===ah&&(af[y]=null);continue}var E=D[y],q=typeof E.value=="string"?[E.value]:b(E.value);q.unshift(k+1,Math.max(0,ai-k)),q.push(ah),af[y]=ah,x.splice.apply(x,q),E.indexOf(ah)===-1&&E.push(ah)}var g=0,H=0,ag="";x.forEach(function(I){typeof I=="string"?(I[0]==="\n"?(H=I.length-1,g++):H+=I.length,ag+=I):I.start?I.end={row:g,column:H}:I.start={row:g,column:H}});var F=aj.getSelectionRange(),C=aj.session.replace(F,ag),S=new n(aj),G=aj.inVirtualSelectionMode&&aj.selection.index;S.addTabstops(D,F.start,C,G)},this.insertSnippet=function(j,b){var g=this;if(j.inVirtualSelectionMode){return g.insertSnippetForSelection(j,b)}j.forEachSelection(function(){g.insertSnippetForSelection(j,b)},null,{keepOrder:!0}),j.tabstopManager&&j.tabstopManager.tabNext()},this.$getScope=function(j){var b=j.session.$mode.$id||"";b=b.split("/").pop();if(b==="html"||b==="php"){b==="php"&&!j.session.$mode.inlinePhp&&(b="html");var g=j.getCursorPosition(),k=j.session.getState(g.row);typeof k=="object"&&(k=k[0]),k.substring&&(k.substring(0,3)=="js-"?b="javascript":k.substring(0,4)=="css-"?b="css":k.substring(0,4)=="php-"&&(b="php"))}return b},this.getActiveScopes=function(j){var b=this.$getScope(j),g=[b],k=this.snippetMap;return k[b]&&k[b].includeScopes&&g.push.apply(g,k[b].includeScopes),g.push("_"),g},this.expandWithTab=function(j,b){var g=this,k=j.forEachSelection(function(){return g.expandSnippetForSelection(j,b)},null,{keepOrder:!0});return k&&j.tabstopManager&&j.tabstopManager.tabNext(),k},this.expandSnippetForSelection=function(j,x){var w=j.getCursorPosition(),k=j.session.getLine(w.row),y=k.substring(0,w.column),q=k.substr(w.column),b=this.snippetMap,g;return this.getActiveScopes(j).some(function(A){var z=b[A];return z&&(g=this.findMatchingSnippet(z,y,q)),!!g},this),g?x&&x.dryRun?!0:(j.session.doc.removeInLine(w.row,w.column-g.replaceBefore.length,w.column+g.replaceAfter.length),this.variables.M__=g.matchBefore,this.variables.T__=g.matchAfter,this.insertSnippetForSelection(j,g.content),this.variables.M__=this.variables.T__=null,!0):!1},this.findMatchingSnippet=function(j,q,g){for(var k=j.length;k--;){var b=j[k];if(b.startRe&&!b.startRe.test(q)){continue}if(b.endRe&&!b.endRe.test(g)){continue}if(!b.startRe&&!b.endRe){continue}return b.matchBefore=b.startRe?b.startRe.exec(q):[""],b.matchAfter=b.endRe?b.endRe.exec(g):[""],b.replaceBefore=b.triggerRe?b.triggerRe.exec(q)[0]:"",b.replaceAfter=b.endTriggerRe?b.endTriggerRe.exec(g)[0]:"",b}},this.snippetMap={},this.snippetNameMap={},this.register=function(b,k){function w(z){return z&&!/^\^?\(.*\)\$?$|^\\b$/.test(z)&&(z="(?:"+z+")"),z||""}function x(A,z,B){return A=w(A),z=w(z),B?(A=z+A,A&&A[A.length-1]!="$"&&(A+="$")):(A+=z,A&&A[0]!="^"&&(A="^"+A)),new RegExp(A)}function y(B){B.scope||(B.scope=k||"_"),k=B.scope,j[k]||(j[k]=[],g[k]={});var A=g[k];if(B.name){var z=A[B.name];z&&q.unregister(z),A[B.name]=B}j[k].push(B),B.tabTrigger&&!B.trigger&&(!B.guard&&/^\w/.test(B.tabTrigger)&&(B.guard="\\b"),B.trigger=s.escapeRegExp(B.tabTrigger)),B.startRe=x(B.trigger,B.guard,!0),B.triggerRe=new RegExp(B.trigger,"",!0),B.endRe=x(B.endTrigger,B.endGuard,!0),B.endTriggerRe=new RegExp(B.endTrigger,"",!0)}var j=this.snippetMap,g=this.snippetNameMap,q=this;b||(b=[]),b&&b.content?y(b):Array.isArray(b)&&b.forEach(y),this._signal("registerSnippets",{scope:k})},this.unregister=function(j,q){function b(z){var x=k[z.scope||q];if(x&&x[z.name]){delete x[z.name];var w=g[z.scope||q],y=w&&w.indexOf(z);y>=0&&w.splice(y,1)}}var g=this.snippetMap,k=this.snippetNameMap;j.content?b(j):Array.isArray(j)&&j.forEach(b)},this.parseSnippetFile=function(j){j=j.replace(/\r/g,"");var z=[],q={},x=/^#.*|^({[\s\S]*})\s*$|^(\S+) (.*)$|^((?:\n*\t.*)+)/gm,k;while(k=x.exec(j)){if(k[1]){try{q=JSON.parse(k[1]),z.push(q)}catch(y){}}if(k[4]){q.content=k[4].replace(/^\t/gm,""),z.push(q),q={}}else{var w=k[2],b=k[3];if(w=="regex"){var g=/\/((?:[^\/\\]|\\.)*)|$/g;q.guard=g.exec(b)[1],q.trigger=g.exec(b)[1],q.endTrigger=g.exec(b)[1],q.endGuard=g.exec(b)[1]}else{w=="snippet"?(q.tabTrigger=b.match(/^\S*/)[0],q.name||(q.name=b)):q[w]=b}}}return z},this.getSnippetByName=function(j,b){var g=this.snippetNameMap,k;return this.getActiveScopes(b).some(function(q){var w=g[q];return w&&(k=w[j]),!!k},this),k}}).call(d.prototype);var n=function(b){if(b.tabstopManager){return b.tabstopManager}b.tabstopManager=this,this.$onChange=this.onChange.bind(this),this.$onChangeSelection=s.delayedCall(this.onChangeSelection.bind(this)).schedule,this.$onChangeSession=this.onChangeSession.bind(this),this.$onAfterExec=this.onAfterExec.bind(this),this.attach(b)};(function(){this.attach=function(b){this.index=0,this.ranges=[],this.tabstops=[],this.$openTabstops=null,this.selectedTabstop=null,this.editor=b,this.editor.on("change",this.$onChange),this.editor.on("changeSelection",this.$onChangeSelection),this.editor.on("changeSession",this.$onChangeSession),this.editor.commands.on("afterExec",this.$onAfterExec),this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler)},this.detach=function(){this.tabstops.forEach(this.removeTabstopMarkers,this),this.ranges=null,this.tabstops=null,this.selectedTabstop=null,this.editor.removeListener("change",this.$onChange),this.editor.removeListener("changeSelection",this.$onChangeSelection),this.editor.removeListener("changeSession",this.$onChangeSession),this.editor.commands.removeListener("afterExec",this.$onAfterExec),this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler),this.editor.tabstopManager=null,this.editor=null},this.onChange=function(z){var k=z.data.range,D=z.data.action[0]=="r",g=k.start,C=k.end,j=g.row,E=C.row,q=E-j,w=C.column-g.column;D&&(q=-q,w=-w);if(!this.$inChange&&D){var A=this.selectedTabstop,x=A&&!A.some(function(F){return r(F.start,g)<=0&&r(F.end,C)>=0});if(x){return this.detach()}}var B=this.ranges;for(var b=0;b<B.length;b++){var y=B[b];if(y.end.row<g.row){continue}if(D&&r(g,y.start)<0&&r(C,y.end)>0){this.removeRange(y),b--;continue}y.start.row==j&&y.start.column>g.column&&(y.start.column+=w),y.end.row==j&&y.end.column>=g.column&&(y.end.column+=w),y.start.row>=j&&(y.start.row+=q),y.end.row>=j&&(y.end.row+=q),r(y.start,y.end)>0&&this.removeRange(y)}B.length||this.detach()},this.updateLinkedFields=function(){var k=this.selectedTabstop;if(!k||!k.hasLinkedRanges){return}this.$inChange=!0;var g=this.editor.session,q=g.getTextRange(k.firstNonLinked);for(var b=k.length;b--;){var w=k[b];if(!w.linked){continue}var j=t.snippetManager.tmStrFormat(q,w.original);g.replace(w,j)}this.$inChange=!1},this.onAfterExec=function(b){b.command&&!b.command.readOnly&&this.updateLinkedFields()},this.onChangeSelection=function(){if(!this.editor){return}var j=this.editor.selection.lead,w=this.editor.selection.anchor,g=this.editor.selection.isEmpty();for(var k=this.ranges.length;k--;){if(this.ranges[k].linked){continue}var b=this.ranges[k].contains(j.row,j.column),q=g||this.ranges[k].contains(w.row,w.column);if(b&&q){return}}this.detach()},this.onChangeSession=function(){this.detach()},this.tabNext=function(j){var b=this.tabstops.length,g=this.index+(j||1);g=Math.min(Math.max(g,1),b),g==b&&(g=0),this.selectTabstop(g),g===0&&this.detach()},this.selectTabstop=function(j){this.$openTabstops=null;var b=this.tabstops[this.index];b&&this.addTabstopMarkers(b),this.index=j,b=this.tabstops[this.index];if(!b||!b.length){return}this.selectedTabstop=b;if(!this.editor.inVirtualSelectionMode){var g=this.editor.multiSelect;g.toSingleRange(b.firstNonLinked.clone());for(var k=b.length;k--;){if(b.hasLinkedRanges&&b[k].linked){continue}g.addRange(b[k].clone(),!0)}g.ranges[0]&&g.addRange(g.ranges[0].clone())}else{this.editor.selection.setRange(b.firstNonLinked)}this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler)},this.addTabstops=function(j,w,b){this.$openTabstops||(this.$openTabstops=[]);if(!j[0]){var k=i.fromPoints(b,b);v(k.start,w),v(k.end,w),j[0]=[k],j[0].index=0}var x=this.index,q=[x+1,0],g=this.ranges;j.forEach(function(z,y){var B=this.$openTabstops[y]||z;for(var C=z.length;C--;){var D=z[C],A=i.fromPoints(D.start,D.end||D.start);e(A.start,w),e(A.end,w),A.original=D,A.tabstop=B,g.push(A),B!=z?B.unshift(A):B[C]=A,D.fmtString?(A.linked=!0,B.hasLinkedRanges=!0):B.firstNonLinked||(B.firstNonLinked=A)}B.firstNonLinked||(B.hasLinkedRanges=!1),B===z&&(q.push(B),this.$openTabstops[y]=B),this.addTabstopMarkers(B)},this),q.length>2&&(this.tabstops.length&&q.push(q.splice(2,1)[0]),this.tabstops.splice.apply(this.tabstops,q))},this.addTabstopMarkers=function(g){var b=this.editor.session;g.forEach(function(j){j.markerId||(j.markerId=b.addMarker(j,"ace_snippet-marker","text"))})},this.removeTabstopMarkers=function(g){var b=this.editor.session;g.forEach(function(j){b.removeMarker(j.markerId),j.markerId=null})},this.removeRange=function(g){var b=g.tabstop.indexOf(g);g.tabstop.splice(b,1),b=this.ranges.indexOf(g),this.ranges.splice(b,1),this.editor.session.removeMarker(g.markerId),g.tabstop.length||(b=this.tabstops.indexOf(g.tabstop),b!=-1&&this.tabstops.splice(b,1),this.tabstops.length||this.detach())},this.keyboardHandler=new a,this.keyboardHandler.bindKeys({Tab:function(b){if(t.snippetManager&&t.snippetManager.expandWithTab(b)){return}b.tabstopManager.tabNext(1)},"Shift-Tab":function(b){b.tabstopManager.tabNext(-1)},Esc:function(b){b.tabstopManager.detach()},Return:function(b){return !1}})}).call(n.prototype);var l={};l.onChange=u.prototype.onChange,l.setPosition=function(g,b){this.pos.row=g,this.pos.column=b},l.update=function(j,b,g){this.$insertRight=g,this.pos=j,this.onChange(b)};var e=function(g,b){g.row==0&&(g.column+=b.column),g.row+=b.row},v=function(g,b){g.row==b.row&&(g.column-=b.column),g.row-=b.row};f("./lib/dom").importCssString(".ace_snippet-marker {    -moz-box-sizing: border-box;    box-sizing: border-box;    background: rgba(194, 193, 208, 0.09);    border: 1px dotted rgba(211, 208, 235, 0.62);    position: absolute;}"),t.snippetManager=new d;var c=f("./editor").Editor;(function(){this.insertSnippet=function(b,g){return t.snippetManager.insertSnippet(this,b,g)},this.expandSnippet=function(b){return t.snippetManager.expandWithTab(this,b)}}).call(c.prototype)}),ace.define("ace/autocomplete/popup",["require","exports","module","ace/edit_session","ace/virtual_renderer","ace/editor","ace/range","ace/lib/event","ace/lib/lang","ace/lib/dom"],function(e,t,n){var r=e("../edit_session").EditSession,i=e("../virtual_renderer").VirtualRenderer,s=e("../editor").Editor,o=e("../range").Range,u=e("../lib/event"),a=e("../lib/lang"),f=e("../lib/dom"),l=function(g){var b=new i(g);b.$maxLines=4;var d=new s(b);return d.setHighlightActiveLine(!1),d.setShowPrintMargin(!1),d.renderer.setShowGutter(!1),d.renderer.setHighlightGutterLine(!1),d.$mouseHandler.$focusWaitTimout=0,d.$highlightTagPending=!0,d},c=function(p){var d=f.createElement("div"),j=new l(d);p&&p.appendChild(d),d.style.display="none",j.renderer.content.style.cursor="default",j.renderer.setStyle("ace_autocomplete"),j.setOption("displayIndentGuides",!1),j.setOption("dragDelay",150);var q=function(){};j.focus=q,j.$isFocused=!0,j.renderer.$cursorLayer.restartTimer=q,j.renderer.$cursorLayer.element.style.opacity=0,j.renderer.$maxLines=8,j.renderer.$keepTextAreaAtCursor=!1,j.setHighlightActiveLine(!1),j.session.highlight(""),j.session.$searchHighlight.clazz="ace_highlight-marker",j.on("mousedown",function(w){var x=w.getDocumentPosition();j.selection.moveToPosition(x),h.start.row=h.end.row=x.row,w.stop()});var g,b=new o(-1,0,-1,Infinity),h=new o(-1,0,-1,Infinity);h.id=j.session.addMarker(h,"ace_active-line","fullLine"),j.setSelectOnHover=function(w){w?b.id&&(j.session.removeMarker(b.id),b.id=null):b.id=j.session.addMarker(b,"ace_line-hover","fullLine")},j.setSelectOnHover(!1),j.on("mousemove",function(w){if(!g){g=w;return}if(g.x==w.x&&g.y==w.y){return}g=w,g.scrollTop=j.renderer.scrollTop;var x=g.getDocumentPosition().row;b.start.row!=x&&(b.id||j.setRow(x),k(x))}),j.renderer.on("beforeRender",function(){if(g&&b.start.row!=-1){g.$pos=null;var w=g.getDocumentPosition().row;b.id||j.setRow(w),k(w,!0)}}),j.renderer.on("afterRender",function(){var y=j.getRow(),x=j.renderer.$textLayer,w=x.element.childNodes[y-x.config.firstRow];if(w==x.selectedNode){return}x.selectedNode&&f.removeCssClass(x.selectedNode,"ace_selected"),x.selectedNode=w,w&&f.addCssClass(w,"ace_selected")});var v=function(){k(-1)},k=function(w,x){w!==b.start.row&&(b.start.row=b.end.row=w,x||j.session._emit("changeBackMarker"),j._emit("changeHoverMarker"))};j.getHoveredRow=function(){return b.start.row},u.addListener(j.container,"mouseout",v),j.on("hide",v),j.on("changeSelection",v),j.session.doc.getLength=function(){return j.data.length},j.session.doc.getLine=function(w){var x=j.data[w];return typeof x=="string"?x:x&&x.value||""};var m=j.session.bgTokenizer;return m.$tokenizeRow=function(x){var A=j.data[x],y=[];if(!A){return y}typeof A=="string"&&(A={value:A}),A.caption||(A.caption=A.value||A.name);var B=-1,z,w;for(var J=0;J<A.caption.length;J++){w=A.caption[J],z=A.matchMask&1<<J?1:0,B!==z?(y.push({type:A.className||""+(z?"completion-highlight":""),value:w}),B=z):y[y.length-1].value+=w}if(A.meta){var C=j.renderer.$size.scrollerWidth/j.renderer.layerConfig.characterWidth;A.meta.length+A.caption.length<C-2&&y.push({type:"rightAlignedText",value:A.meta})}return y},m.$updateOnChange=q,m.start=q,j.session.$computeWidth=function(){return this.screenWidth=0},j.$blockScrolling=Infinity,j.isOpen=!1,j.isTopdown=!1,j.data=[],j.setData=function(w){j.data=w||[],j.setValue(a.stringRepeat("\n",w.length),-1),j.setRow(0)},j.getData=function(w){return j.data[w]},j.getRow=function(){return h.start.row},j.setRow=function(w){w=Math.max(-1,Math.min(this.data.length,w)),h.start.row!=w&&(j.selection.clearSelection(),h.start.row=h.end.row=w||0,j.session._emit("changeBackMarker"),j.moveCursorTo(w||0,0),j.isOpen&&j._signal("select"))},j.on("changeSelection",function(){j.isOpen&&j.setRow(j.selection.lead.row),j.renderer.scrollCursorIntoView()}),j.hide=function(){this.container.style.display="none",this._signal("hide"),j.isOpen=!1},j.show=function(M,A,y){var z=this.container,x=window.innerHeight,B=window.innerWidth,C=this.renderer,N=C.$maxLines*A*1.4,w=M.top+this.$borderSize;w+N>x-A&&!y?(z.style.top="",z.style.bottom=x-w+"px",j.isTopdown=!1):(w+=A,z.style.top=w+"px",z.style.bottom="",j.isTopdown=!0),z.style.display="",this.renderer.$textLayer.checkForSizeChanges();var L=M.left;L+z.offsetWidth>B&&(L=B-z.offsetWidth),z.style.left=L+"px",this._signal("show"),g=null,j.isOpen=!0},j.getTextLeftOffset=function(){return this.$borderSize+this.renderer.$padding+this.$imageSize},j.$imageSize=0,j.$borderSize=1,j};f.importCssString(".ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {    background-color: #CAD6FA;    z-index: 1;}.ace_editor.ace_autocomplete .ace_line-hover {    border: 1px solid #abbffe;    margin-top: -1px;    background: rgba(233,233,253,0.4);}.ace_editor.ace_autocomplete .ace_line-hover {    position: absolute;    z-index: 2;}.ace_editor.ace_autocomplete .ace_scroller {   background: none;   border: none;   box-shadow: none;}.ace_rightAlignedText {    color: gray;    display: inline-block;    position: absolute;    right: 4px;    text-align: right;    z-index: -1;}.ace_editor.ace_autocomplete .ace_completion-highlight{    color: #000;    text-shadow: 0 0 0.01em;}.ace_editor.ace_autocomplete {    width: 280px;    z-index: 200000;    background: #fbfbfb;    color: #444;    border: 1px lightgray solid;    position: fixed;    box-shadow: 2px 3px 5px rgba(0,0,0,.2);    line-height: 1.4;}"),t.AcePopup=c}),ace.define("ace/autocomplete/util",["require","exports","module"],function(h,f,g){f.parForEach=function(b,i,a){var c=0,m=b.length;m===0&&a();for(var d=0;d<m;d++){i(b[d],function(j,k){c++,c===m&&a(j,k)})}};var e=/[a-zA-Z_0-9\$\-\u00A2-\uFFFF]/;f.retrievePrecedingIdentifier=function(b,d,a){a=a||e;var i=[];for(var c=d-1;c>=0;c--){if(!a.test(b[c])){break}i.push(b[c])}return i.reverse().join("")},f.retrieveFollowingIdentifier=function(b,d,a){a=a||e;var i=[];for(var c=d;c<b.length;c++){if(!a.test(b[c])){break}i.push(b[c])}return i}}),ace.define("ace/autocomplete",["require","exports","module","ace/keyboard/hash_handler","ace/autocomplete/popup","ace/autocomplete/util","ace/lib/event","ace/lib/lang","ace/lib/dom","ace/snippets"],function(e,t,n){var r=e("./keyboard/hash_handler").HashHandler,i=e("./autocomplete/popup").AcePopup,s=e("./autocomplete/util"),o=e("./lib/event"),u=e("./lib/lang"),a=e("./lib/dom"),f=e("./snippets").snippetManager,l=function(){this.autoInsert=!0,this.autoSelect=!0,this.exactMatch=!1,this.keyboardHandler=new r,this.keyboardHandler.bindKeys(this.commands),this.blurListener=this.blurListener.bind(this),this.changeListener=this.changeListener.bind(this),this.mousedownListener=this.mousedownListener.bind(this),this.mousewheelListener=this.mousewheelListener.bind(this),this.changeTimer=u.delayedCall(function(){this.updateCompletions(!0)}.bind(this)),this.tooltipTimer=u.delayedCall(this.updateDocTooltip.bind(this),50)};(function(){this.gatherCompletionsId=0,this.$init=function(){return this.popup=new i(document.body||document.documentElement),this.popup.on("click",function(b){this.insertMatch(),b.stop()}.bind(this)),this.popup.focus=this.editor.focus.bind(this.editor),this.popup.on("show",this.tooltipTimer.bind(null,null)),this.popup.on("select",this.tooltipTimer.bind(null,null)),this.popup.on("changeHoverMarker",this.tooltipTimer.bind(null,null)),this.popup},this.getPopup=function(){return this.popup||this.$init()},this.openPopup=function(g,m,j){this.popup||this.$init(),this.popup.setData(this.completions.filtered);var d=g.renderer;this.popup.setRow(this.autoSelect?0:-1);if(!j){this.popup.setTheme(g.getTheme()),this.popup.setFontSize(g.getFontSize());var b=d.layerConfig.lineHeight,h=d.$cursorLayer.getPixelPosition(this.base,!0);h.left-=this.popup.getTextLeftOffset();var k=g.container.getBoundingClientRect();h.top+=k.top-d.layerConfig.offset,h.left+=k.left-g.renderer.scrollLeft,h.left+=d.$gutterLayer.gutterWidth,this.popup.show(h,b)}else{j&&!m&&this.detach()}},this.detach=function(){this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler),this.editor.off("changeSelection",this.changeListener),this.editor.off("blur",this.blurListener),this.editor.off("mousedown",this.mousedownListener),this.editor.off("mousewheel",this.mousewheelListener),this.changeTimer.cancel(),this.hideDocTooltip(),this.popup&&this.popup.isOpen&&(this.gatherCompletionsId+=1,this.popup.hide()),this.base&&this.base.detach(),this.activated=!1,this.completions=this.base=null},this.changeListener=function(d){var b=this.editor.selection.lead;(b.row!=this.base.row||b.column<this.base.column)&&this.detach(),this.activated?this.changeTimer.schedule():this.detach()},this.blurListener=function(g){var b=document.activeElement,d=this.editor.textInput.getElement();b!=d&&b.parentNode!=this.popup.container&&b!=this.tooltipNode&&g.relatedTarget!=this.tooltipNode&&g.relatedTarget!=d&&this.detach()},this.mousedownListener=function(b){this.detach()},this.mousewheelListener=function(b){this.detach()},this.goTo=function(g){var b=this.popup.getRow(),d=this.popup.session.getLength()-1;switch(g){case"up":b=b<=0?d:b-1;break;case"down":b=b>=d?-1:b+1;break;case"start":b=0;break;case"end":b=d}this.popup.setRow(b)},this.insertMatch=function(g){g||(g=this.popup.getData(this.popup.getRow()));if(!g){return !1}if(g.completer&&g.completer.insertMatch){g.completer.insertMatch(this.editor,g)}else{if(this.completions.filterText){var b=this.editor.selection.getAllRanges();for(var d=0,h;h=b[d];d++){h.start.column-=this.completions.filterText.length,this.editor.session.remove(h)}}g.snippet?f.insertSnippet(this.editor,g.snippet):this.editor.execCommand("insertstring",g.value||g)}this.detach()},this.commands={Up:function(b){b.completer.goTo("up")},Down:function(b){b.completer.goTo("down")},"Ctrl-Up|Ctrl-Home":function(b){b.completer.goTo("start")},"Ctrl-Down|Ctrl-End":function(b){b.completer.goTo("end")},Esc:function(b){b.completer.detach()},Space:function(b){b.completer.detach(),b.insert(" ")},Return:function(b){return b.completer.insertMatch()},"Shift-Return":function(b){b.completer.insertMatch(!0)},Tab:function(d){var b=d.completer.insertMatch();if(!!b||!!d.tabstopManager){return b}d.completer.goTo("down")},PageUp:function(b){b.completer.popup.gotoPageUp()},PageDown:function(b){b.completer.popup.gotoPageDown()}},this.gatherCompletions=function(j,g){var p=j.getSession(),m=j.getCursorPosition(),d=p.getLine(m.row),b=s.retrievePrecedingIdentifier(d,m.column);this.base=p.doc.createAnchor(m.row,m.column-b.length),this.base.$insertRight=!0;var h=[],k=j.completers.length;return j.completers.forEach(function(q,v){q.getCompletions(j,p,m,b,function(x,z){x||(h=h.concat(z));var y=j.getCursorPosition(),w=p.getLine(y.row);g(null,{prefix:s.retrievePrecedingIdentifier(w,y.column,z[0]&&z[0].identifierRegex),matches:h,finished:--k===0})})}),!0},this.showPopup=function(b){this.editor&&this.detach(),this.activated=!0,this.editor=b,b.completer!=this&&(b.completer&&b.completer.detach(),b.completer=this),b.keyBinding.addKeyboardHandler(this.keyboardHandler),b.on("changeSelection",this.changeListener),b.on("blur",this.blurListener),b.on("mousedown",this.mousedownListener),b.on("mousewheel",this.mousewheelListener),this.updateCompletions()},this.updateCompletions=function(g){if(g&&this.base&&this.completions){var b=this.editor.getCursorPosition(),d=this.editor.session.getTextRange({start:this.base,end:b});if(d==this.completions.filterText){return}this.completions.setFilter(d);if(!this.completions.filtered.length){return this.detach()}if(this.completions.filtered.length==1&&this.completions.filtered[0].value==d&&!this.completions.filtered[0].snippet){return this.detach()}this.openPopup(this.editor,d,g);return}var h=this.gatherCompletionsId;this.gatherCompletions(this.editor,function(m,j){var k=function(){if(!j.finished){return}return this.detach()}.bind(this),v=j.prefix,q=j&&j.matches;if(!q||!q.length){return k()}if(v.indexOf(j.prefix)!==0||h!=this.gatherCompletionsId){return}this.completions=new c(q),this.exactMatch&&(this.completions.exactMatch=!0),this.completions.setFilter(v);var p=this.completions.filtered;if(!p.length){return k()}if(p.length==1&&p[0].value==v&&!p[0].snippet){return k()}if(this.autoInsert&&p.length==1&&j.finished){return this.insertMatch(p[0])}this.openPopup(this.editor,v,g)}.bind(this))},this.cancelContextMenu=function(){this.editor.$mouseHandler.cancelContextMenu()},this.updateDocTooltip=function(){var g=this.popup,b=g.data,d=b&&(b[g.getHoveredRow()]||b[g.getRow()]),h=null;if(!d||!this.editor||!this.popup.isOpen){return this.hideDocTooltip()}this.editor.completers.some(function(j){return j.getDocTooltip&&(h=j.getDocTooltip(d)),h}),h||(h=d),typeof h=="string"&&(h={docText:h});if(!h||!h.docHTML&&!h.docText){return this.hideDocTooltip()}this.showDocTooltip(h)},this.showDocTooltip=function(g){this.tooltipNode||(this.tooltipNode=a.createElement("div"),this.tooltipNode.className="ace_tooltip ace_doc-tooltip",this.tooltipNode.style.margin=0,this.tooltipNode.style.pointerEvents="auto",this.tooltipNode.tabIndex=-1,this.tooltipNode.onblur=this.blurListener.bind(this));var b=this.tooltipNode;g.docHTML?b.innerHTML=g.docHTML:g.docText&&(b.textContent=g.docText),b.parentNode||document.body.appendChild(b);var d=this.popup,h=d.container.getBoundingClientRect();b.style.top=d.container.style.top,b.style.bottom=d.container.style.bottom,window.innerWidth-h.right<320?(b.style.right=window.innerWidth-h.left+"px",b.style.left=""):(b.style.left=h.right+1+"px",b.style.right=""),b.style.display="block"},this.hideDocTooltip=function(){this.tooltipTimer.cancel();if(!this.tooltipNode){return}var b=this.tooltipNode;!this.editor.isFocused()&&document.activeElement==b&&this.editor.focus(),this.tooltipNode=null,b.parentNode&&b.parentNode.removeChild(b)}}).call(l.prototype),l.startCommand={name:"startAutocomplete",exec:function(b){b.completer||(b.completer=new l),b.completer.autoInsert=b.completer.autoSelect=!0,b.completer.showPopup(b),b.completer.cancelContextMenu()},bindKey:"Ctrl-Space|Ctrl-Shift-Space|Alt-Space"};var c=function(g,b,d){this.all=g,this.filtered=g,this.filterText=b||"",this.exactMatch=!1};(function(){this.setFilter=function(g){if(g.length>this.filterText&&g.lastIndexOf(this.filterText,0)===0){var b=this.filtered}else{var b=this.all}this.filterText=g,b=this.filterCompletions(b,this.filterText),b=b.sort(function(h,j){return j.exactMatch-h.exactMatch||j.score-h.score});var d=null;b=b.filter(function(h){var j=h.snippet||h.caption||h.value;return j===d?!1:(d=j,!0)}),this.filtered=b},this.filterCompletions=function(P,k){var g=[],v=k.toUpperCase(),b=k.toLowerCase();P:for(var j=0,h;h=P[j];j++){var p=h.value||h.caption||h.snippet;if(!p){continue}var w=-1,Q=0,d=0,x,R;if(this.exactMatch){if(k!==p.substr(0,k.length)){continue P}}else{for(var m=0;m<k.length;m++){var O=p.indexOf(b[m],w+1),q=p.indexOf(v[m],w+1);x=O>=0?q<0||O<q?O:q:q;if(x<0){continue P}R=x-w-1,R>0&&(w===-1&&(d+=10),d+=R),Q|=1<<x,w=x}}h.matchMask=Q,h.exactMatch=d?0:1,h.score=(h.score||0)-d,g.push(h)}return g}}).call(c.prototype),t.Autocomplete=l,t.FilteredList=c}),ace.define("ace/autocomplete/text_completer",["require","exports","module","ace/range"],function(l,e,j){function n(b,c){var a=b.getTextRange(m.fromPoints({row:0,column:0},c));return a.split(i).length-1}function k(b,d){var g=n(b,d),c=b.getValue().split(i),a=Object.create(null),f=c[g];return c.forEach(function(h,s){if(!h||h===f){return}var t=Math.abs(g-s),p=c.length-t;a[h]?a[h]=Math.max(p,a[h]):a[h]=p}),a}var m=l("../range").Range,i=/[^a-zA-Z_0-9\$\-\u00C0-\u1FFF\u2C00-\uD7FF\w]+/;e.getCompletions=function(g,b,f,h,c){var a=k(b,f,h),d=Object.keys(a);c(null,d.map(function(o){return{caption:o,value:o,score:a[o],meta:"local"}}))}}),ace.define("ace/ext/language_tools",["require","exports","module","ace/snippets","ace/autocomplete","ace/config","ace/lib/lang","ace/autocomplete/util","ace/autocomplete/text_completer","ace/editor","ace/config"],function(f,s,r){function p(k){var b=k.getCursorPosition(),j=k.session.getLine(b.row),q=u.retrievePrecedingIdentifier(j,b.column);return k.completers.forEach(function(w){w.identifierRegexps&&w.identifierRegexps.forEach(function(x){!q&&x&&(q=u.retrievePrecedingIdentifier(j,b.column,x))})}),q}var g=f("../snippets").snippetManager,n=f("../autocomplete").Autocomplete,i=f("../config"),t=f("../lib/lang"),u=f("../autocomplete/util"),a=f("../autocomplete/text_completer"),h={getCompletions:function(q,z,j,w,b){if(z.$mode.completer){return z.$mode.completer.getCompletions(q,z,j,w,b)}var x=q.session.getState(j.row),k=z.$mode.getCompletions(x,z,j,w);b(null,k)}},o={getCompletions:function(q,x,j,z,w){var k=g.snippetMap,b=[];g.getActiveScopes(q).forEach(function(C){var E=k[C]||[];for(var B=E.length;B--;){var D=E[B],A=D.name||D.tabTrigger;if(!A){continue}b.push({caption:A,snippet:D.content,meta:D.tabTrigger&&!D.name?D.tabTrigger+"\u21e5 ":"snippet",type:"snippet"})}},this),w(null,b)},getDocTooltip:function(b){b.type=="snippet"&&!b.docHTML&&(b.docHTML=["<b>",t.escapeHTML(b.caption),"</b>","<hr></hr>",t.escapeHTML(b.snippet)].join(""))}},c=[o,a,h];s.setCompleters=function(b){c=b||[]},s.addCompleter=function(b){c.push(b)},s.textCompleter=a,s.keyWordCompleter=h,s.snippetCompleter=o;var m={name:"expandSnippet",exec:function(b){return g.expandWithTab(b)},bindKey:"Tab"},d=function(j,b){e(b.session.$mode)},e=function(j){var b=j.$id;g.files||(g.files={}),v(b),j.modes&&j.modes.forEach(e)},v=function(j){if(!j||g.files[j]){return}var b=j.replace("mode","snippets");g.files[j]={},i.loadModule(b,function(k){k&&(g.files[j]=k,!k.snippets&&k.snippetText&&(k.snippets=g.parseSnippetFile(k.snippetText)),g.register(k.snippets||[],k.scope),k.includeScopes&&(g.snippetMap[k.scope].includeScopes=k.includeScopes,k.includeScopes.forEach(function(q){v("ace/mode/"+q)})))})},l=function(k){var b=k.editor,j=k.args||"",q=b.completer&&b.completer.activated;if(k.command.name==="backspace"){q&&!p(b)&&b.completer.detach()}else{if(k.command.name==="insertstring"){var w=p(b);w&&!q&&(b.completer||(b.completer=new n),b.completer.autoSelect=!1,b.completer.autoInsert=!1,b.completer.showPopup(b))}}},y=f("../editor").Editor;f("../config").defineOptions(y.prototype,"editor",{enableBasicAutocompletion:{set:function(b){b?(this.completers||(this.completers=Array.isArray(b)?b:c),this.commands.addCommand(n.startCommand)):this.commands.removeCommand(n.startCommand)},value:!1},enableLiveAutocompletion:{set:function(b){b?(this.completers||(this.completers=Array.isArray(b)?b:c),this.commands.on("afterExec",l)):this.commands.removeListener("afterExec",l)},value:!1},enableSnippets:{set:function(b){b?(this.commands.addCommand(m),this.on("changeMode",d),d(null,this)):(this.commands.removeCommand(m),this.off("changeMode",d))},value:!1}})});(function(){ace.require(["ace/ext/language_tools"],function(){})})();