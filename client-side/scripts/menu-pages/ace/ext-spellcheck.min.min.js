ace.define("ace/ext/spellcheck",["require","exports","module","ace/lib/event","ace/editor","ace/config"],function(i,e,h){var j=i("../lib/event");e.contextMenuHandler=function(c){var t=c.target,n=t.textInput.getElement();if(!t.selection.isEmpty()){return}var f=t.getCursorPosition(),s=t.session.getWordRange(f.row,f.column),o=t.session.getTextRange(s);t.session.tokenRe.lastIndex=0;if(!t.session.tokenRe.test(o)){return}var a="",b=o+" "+a;n.value=b,n.setSelectionRange(o.length,o.length+1),n.setSelectionRange(0,0),n.setSelectionRange(0,o.length);var d=!1;j.addListener(n,"keydown",function l(){j.removeListener(n,"keydown",l),d=!0}),t.textInput.setInputHandler(function(k){console.log(k,b,n.selectionStart,n.selectionEnd);if(k==b){return""}if(k.lastIndexOf(b,0)===0){return k.slice(b.length)}if(k.substr(n.selectionEnd)==b){return k.slice(0,-b.length)}if(k.slice(-2)==a){var m=k.slice(0,-2);if(m.slice(-1)==" "){return d?m.substring(0,n.selectionEnd):(m=m.slice(0,-1),t.session.replace(s,m),"")}}return k})};var g=i("../editor").Editor;i("../config").defineOptions(g.prototype,"editor",{spellcheck:{set:function(b){var a=this.textInput.getElement();a.spellcheck=!!b,b?this.on("nativecontextmenu",e.contextMenuHandler):this.removeListener("nativecontextmenu",e.contextMenuHandler)},value:!0}})});(function(){ace.require(["ace/ext/spellcheck"],function(){})})();